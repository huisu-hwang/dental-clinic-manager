# ì§€ì ë³„ ì¶œê·¼ ì¸ì¦ ì‹œìŠ¤í…œ

## ğŸ“‹ ëª©ì°¨
- [ê°œìš”](#ê°œìš”)
- [ê¸°íš ë°°ê²½](#ê¸°íš-ë°°ê²½)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
- [ë°±ì—”ë“œ API](#ë°±ì—”ë“œ-api)
- [í”„ë¡ íŠ¸ì—”ë“œ UI](#í”„ë¡ íŠ¸ì—”ë“œ-ui)
- [êµ¬í˜„ ë¡œë“œë§µ](#êµ¬í˜„-ë¡œë“œë§µ)
- [í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤](#í…ŒìŠ¤íŠ¸-ì‹œë‚˜ë¦¬ì˜¤)

---

## ê°œìš”

### ë¬¸ì œì 
í˜„ì¬ ì‹œìŠ¤í…œì€ í•˜ë‚˜ì˜ `clinic` = í•˜ë‚˜ì˜ ë¬¼ë¦¬ì  ìœ„ì¹˜ë§Œ ì§€ì›í•©ë‹ˆë‹¤. ì—¬ëŸ¬ ì§€ì ì„ ìš´ì˜í•˜ëŠ” ë³‘ì›ì˜ ê²½ìš° ê° ì§€ì ë³„ë¡œ ì¶œê·¼ ì¸ì¦ì„ ê´€ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

### í•´ê²° ë°©ì•ˆ
**ë³‘ì›(Clinic) vs ì§€ì (Branch) ê°œë… ë¶„ë¦¬**
- `clinic`: ë²•ì¸/ë¸Œëœë“œ ë‹¨ìœ„ (ì˜ˆ: "ì„œìš¸ì¹˜ê³¼ì˜ì›")
- `branch`: ë¬¼ë¦¬ì  ì§€ì  (ì˜ˆ: "ë³¸ì ", "ê°•ë‚¨ì ", "ì„œì´ˆì ")

### ì£¼ìš” ê¸°ëŠ¥
- âœ… ì§€ì  ìƒì„±/ìˆ˜ì •/ì‚­ì œ ê´€ë¦¬
- âœ… ì§€ì ë³„ QR ì½”ë“œ ìƒì„±
- âœ… ì§€ì ë³„ ì¶œê·¼/í‡´ê·¼ ê¸°ë¡
- âœ… ì§€ì ë³„ ì¶œê·¼ í†µê³„ ë° ë¦¬í¬íŠ¸
- âœ… ì§€ì  ê°„ ì§ì› ì´ë™ ì§€ì›
- âœ… í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€ (ê¸°ì¡´ ê¸°ëŠ¥ ì˜í–¥ ì—†ìŒ)

---

## ê¸°íš ë°°ê²½

### ìš”êµ¬ì‚¬í•­
> "ë³‘ì›ì—ì„œëŠ” ì§€ì ì´ ì—¬ëŸ¬ êµ°ë° ìˆì„ ìˆ˜ ìˆì–´. ê·¸ë˜ì„œ ê° ì§€ì ë§ˆë‹¤ ì¶œê·¼ ê¸°ëŠ¥ì´ ì‘ë™ë˜ë„ë¡ í•´ì•¼ í•´."

### ì‚¬ìš© ì‚¬ë¡€
1. **ë‹¤ì§€ì  ë³‘ì› ìš´ì˜**
   - ê°•ë‚¨ì , ì„œì´ˆì , íŒêµì  ë“± ì—¬ëŸ¬ ì§€ì  ìš´ì˜
   - ê° ì§€ì ì˜ ìœ„ì¹˜ê°€ ë‹¤ë¦„ (GPS ì¢Œí‘œ ë‹¤ë¦„)
   - ì§€ì ë³„ë¡œ ì¶œê·¼ ì¸ì¦ í•„ìš”

2. **ìœ ì—°í•œ ê·¼ë¬´ ê´€ë¦¬**
   - ì§ì›ì´ ì˜¤ëŠ˜ì€ ê°•ë‚¨ì , ë‚´ì¼ì€ ì„œì´ˆì  ê·¼ë¬´ ê°€ëŠ¥
   - ì§€ì ë³„ ì¶œê·¼ í˜„í™© ì‹¤ì‹œê°„ í™•ì¸
   - ì§€ì ë³„ í†µê³„ ë° ë¦¬í¬íŠ¸

3. **í™•ì¥ì„±**
   - ì§€ì  ë¬´ì œí•œ ì¶”ê°€ ê°€ëŠ¥
   - ì§€ì  íì‡„/ì¬ê°œ ê´€ë¦¬
   - ë¯¸ë˜ í™•ì¥ ëŒ€ë¹„

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì„¤ê³„ ì›ì¹™

#### 1. í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€
- `branch_id`ëŠ” ëª¨ë‘ nullable (ì„ íƒ í•„ë“œ)
- ê¸°ì¡´ ì½”ë“œëŠ” ê³„ì† ì‘ë™
- ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥

#### 2. ìµœì†Œ ì¹¨ìŠµ ì›ì¹™
- ê¸°ì¡´ í…Œì´ë¸” êµ¬ì¡° ìµœì†Œ ë³€ê²½
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì€ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„
- ê¸°ì¡´ ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ

#### 3. ë³´ì•ˆ
- RLS ì •ì±…ìœ¼ë¡œ ê¶Œí•œ ê´€ë¦¬
- ì§€ì ë³„ ë°ì´í„° ì ‘ê·¼ ì œì–´
- owner/managerë§Œ ì§€ì  ê´€ë¦¬ ê°€ëŠ¥

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD ê°œë…ë„

```
clinics (ë³‘ì›)
   â”‚
   â”œâ”€â”€â”€ clinic_branches (ì§€ì )
   â”‚       â”‚
   â”‚       â”œâ”€â”€â”€ attendance_qr_codes (ì§€ì ë³„ QR ì½”ë“œ)
   â”‚       â”‚
   â”‚       â””â”€â”€â”€ attendance_records (ì§€ì ë³„ ì¶œê·¼ ê¸°ë¡)
   â”‚
   â””â”€â”€â”€ users (ì§ì›)
           â””â”€â”€â”€ primary_branch_id (ì£¼ ê·¼ë¬´ ì§€ì )
```

### 1. clinic_branches í…Œì´ë¸” (ì‹ ê·œ)

```sql
CREATE TABLE clinic_branches (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  clinic_id UUID NOT NULL REFERENCES clinics(id) ON DELETE CASCADE,
  branch_name TEXT NOT NULL,          -- "ë³¸ì ", "ê°•ë‚¨ì ", "ì„œì´ˆì "
  branch_code TEXT,                   -- ë‚´ë¶€ ê´€ë¦¬ ì½”ë“œ

  -- ì§€ì  ìœ„ì¹˜ ì •ë³´
  address TEXT,
  latitude DECIMAL(10, 8),           -- ìœ„ë„
  longitude DECIMAL(11, 8),          -- ê²½ë„

  -- ì¶œê·¼ ì¸ì¦ ì„¤ì •
  attendance_radius_meters INTEGER DEFAULT 100,

  -- ì§€ì ë³„ ì—°ë½ì²˜
  phone TEXT,

  -- ì§€ì  ìƒíƒœ
  is_active BOOLEAN DEFAULT true,
  display_order INTEGER DEFAULT 0,

  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  created_by UUID REFERENCES users(id),

  UNIQUE(clinic_id, branch_name)
);
```

**ì¸ë±ìŠ¤:**
- `idx_clinic_branches_clinic` ON (clinic_id)
- `idx_clinic_branches_active` ON (clinic_id, is_active)

### 2. ê¸°ì¡´ í…Œì´ë¸” í™•ì¥

```sql
-- QR ì½”ë“œì— ì§€ì  ì •ë³´ ì¶”ê°€
ALTER TABLE attendance_qr_codes
ADD COLUMN branch_id UUID REFERENCES clinic_branches(id);

-- ì¶œê·¼ ê¸°ë¡ì— ì§€ì  ì •ë³´ ì¶”ê°€
ALTER TABLE attendance_records
ADD COLUMN branch_id UUID REFERENCES clinic_branches(id);

-- ì§ì›ì˜ ì£¼ ê·¼ë¬´ ì§€ì  ì¶”ê°€
ALTER TABLE users
ADD COLUMN primary_branch_id UUID REFERENCES clinic_branches(id);
```

### 3. RLS (Row Level Security) ì •ì±…

```sql
-- ì½ê¸°: ìì‹ ì˜ ë³‘ì› ì§€ì ë§Œ ì¡°íšŒ
CREATE POLICY "Users can view branches of their clinic"
ON clinic_branches FOR SELECT
USING (clinic_id IN (SELECT clinic_id FROM users WHERE id = auth.uid()));

-- ìƒì„±/ìˆ˜ì •: ownerì™€ managerë§Œ
CREATE POLICY "Owners and managers can manage branches"
ON clinic_branches FOR INSERT
WITH CHECK (
  EXISTS (
    SELECT 1 FROM users
    WHERE id = auth.uid()
    AND clinic_id = clinic_branches.clinic_id
    AND role IN ('owner', 'manager')
  )
);

-- ì‚­ì œ: ownerë§Œ
CREATE POLICY "Owners can delete branches"
ON clinic_branches FOR DELETE
USING (
  EXISTS (
    SELECT 1 FROM users
    WHERE id = auth.uid()
    AND clinic_id = clinic_branches.clinic_id
    AND role = 'owner'
  )
);
```

### 4. ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

**Phase 1: ìŠ¤í‚¤ë§ˆ ì¶”ê°€**
```sql
-- 1. clinic_branches í…Œì´ë¸” ìƒì„±
-- 2. ê¸°ì¡´ í…Œì´ë¸”ì— branch_id ì»¬ëŸ¼ ì¶”ê°€ (nullable)
-- 3. RLS ì •ì±… ì„¤ì •
-- 4. ì¸ë±ìŠ¤ ìƒì„±
```

**Phase 2: ê¸°ë³¸ ì§€ì  ìƒì„±**
```sql
-- ê° ë³‘ì›ë§ˆë‹¤ "ë³¸ì " ìë™ ìƒì„±
INSERT INTO clinic_branches (clinic_id, branch_name, is_active)
SELECT id, 'ë³¸ì ', true
FROM clinics
WHERE NOT EXISTS (
  SELECT 1 FROM clinic_branches WHERE clinic_id = clinics.id
);
```

**Phase 3: ì ì§„ì  ì „í™˜**
- ìƒˆë¡œìš´ QR ì½”ë“œëŠ” ì§€ì ë³„ë¡œ ìƒì„±
- ê¸°ì¡´ QR ì½”ë“œëŠ” ê³„ì† ì‚¬ìš© (ë³¸ì ìœ¼ë¡œ ê°„ì£¼)
- ì§ì›ë“¤ì˜ primary_branch_id ì„¤ì •

---

## ë°±ì—”ë“œ API

### íƒ€ì… ì •ì˜ (`src/types/branch.ts`)

```typescript
export interface ClinicBranch {
  id: string
  clinic_id: string
  branch_name: string
  branch_code: string | null
  address: string | null
  latitude: number | null
  longitude: number | null
  attendance_radius_meters: number
  phone: string | null
  is_active: boolean
  display_order: number
  created_at: string
  updated_at: string
  created_by: string | null
}

export interface CreateBranchInput {
  clinic_id: string
  branch_name: string
  branch_code?: string
  address?: string
  latitude?: number
  longitude?: number
  attendance_radius_meters?: number
  phone?: string
  is_active?: boolean
  display_order?: number
}

export interface UpdateBranchInput {
  branch_name?: string
  branch_code?: string
  address?: string
  latitude?: number
  longitude?: number
  attendance_radius_meters?: number
  phone?: string
  is_active?: boolean
  display_order?: number
}
```

### ì„œë¹„ìŠ¤ í•¨ìˆ˜ (`src/lib/branchService.ts`)

#### 1. CRUD ê¸°ëŠ¥

```typescript
// ì§€ì  ëª©ë¡ ì¡°íšŒ
getBranches(filter: BranchFilter): Promise<BranchesResponse>

// íŠ¹ì • ì§€ì  ì¡°íšŒ
getBranchById(branchId: string): Promise<ClinicBranch>

// ì§€ì  ìƒì„±
createBranch(input: CreateBranchInput, currentUserId: string): Promise<ClinicBranch>

// ì§€ì  ìˆ˜ì •
updateBranch(branchId: string, input: UpdateBranchInput): Promise<ClinicBranch>

// ì§€ì  ì‚­ì œ
deleteBranch(branchId: string): Promise<void>

// ì§€ì  í™œì„±í™”/ë¹„í™œì„±í™”
toggleBranchActive(branchId: string, isActive: boolean): Promise<ClinicBranch>
```

#### 2. ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

```typescript
// UI ì„ íƒìš© ì§€ì  ëª©ë¡
getBranchOptions(clinicId: string): Promise<BranchOption[]>

// ì§€ì ë³„ ì¶œê·¼ í†µê³„
getBranchAttendanceStats(clinicId: string, date: string): Promise<BranchAttendanceStats[]>

// ê¸°ë³¸ ì§€ì  ì¡°íšŒ (ë³¸ì )
getDefaultBranch(clinicId: string): Promise<ClinicBranch>
```

#### 3. ìœ íš¨ì„± ê²€ì¦

```typescript
export function validateBranch(input: CreateBranchInput | UpdateBranchInput): BranchValidation {
  const errors = {}

  // ì§€ì ëª… ê²€ì¦
  if (!input.branch_name || input.branch_name.length > 50) {
    errors.branch_name = 'ì§€ì ëª…ì„ í™•ì¸í•´ì£¼ì„¸ìš”.'
  }

  // ìœ„ë„/ê²½ë„ ê²€ì¦
  if (input.latitude < -90 || input.latitude > 90) {
    errors.latitude = 'ìœ„ë„ëŠ” -90 ~ 90 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤.'
  }

  // ì¶œê·¼ ë°˜ê²½ ê²€ì¦
  if (input.attendance_radius_meters < 10 || input.attendance_radius_meters > 1000) {
    errors.attendance_radius_meters = 'ì¶œê·¼ ë°˜ê²½ì€ 10 ~ 1000m ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤.'
  }

  return { isValid: Object.keys(errors).length === 0, errors }
}
```

### Attendance Service ìˆ˜ì • (`src/lib/attendanceService.ts`)

#### QR ì½”ë“œ ìƒì„± ìˆ˜ì •

```typescript
export async function generateDailyQRCode(input: QRCodeGenerateInput) {
  const { clinic_id, branch_id, latitude, longitude, radius_meters = 100 } = input

  // 1. branch_idê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì§€ì  ì •ë³´ ì¡°íšŒ
  if (branch_id) {
    const { data: branch } = await supabase
      .from('clinic_branches')
      .select('latitude, longitude, attendance_radius_meters')
      .eq('id', branch_id)
      .single()

    // ì§€ì ì˜ ìœ„ì¹˜ ì •ë³´ ì‚¬ìš©
    const qrLat = branch.latitude || latitude
    const qrLon = branch.longitude || longitude
    const qrRadius = branch.attendance_radius_meters || radius_meters
  }

  // 2. QR ì½”ë“œ ìƒì„± (branch_id í¬í•¨)
  const qrCodeValue = `ATTENDANCE_${clinic_id}_${branch_id || 'MAIN'}_${today}_${uuid}`

  // 3. ì €ì¥
  await supabase.from('attendance_qr_codes').insert({
    clinic_id,
    branch_id,
    qr_code: qrCodeValue,
    valid_date: today,
    latitude: qrLat,
    longitude: qrLon,
    radius_meters: qrRadius,
    is_active: true
  })
}
```

#### ì¶œê·¼ ì²´í¬ ìˆ˜ì •

```typescript
export async function checkIn(request: CheckInRequest) {
  const { user_id, qr_code, work_date, latitude, longitude } = request

  // 1. QR ì½”ë“œì—ì„œ branch_id ì¶”ì¶œ
  const { data: qrData } = await supabase
    .from('attendance_qr_codes')
    .select('clinic_id, branch_id')
    .eq('qr_code', qr_code)
    .single()

  // 2. ì¶œê·¼ ê¸°ë¡ ì €ì¥ (branch_id í¬í•¨)
  await supabase.from('attendance_records').insert({
    user_id,
    clinic_id: qrData.clinic_id,
    branch_id: qrData.branch_id,  // ì¶”ê°€
    work_date,
    check_in_time: new Date().toISOString(),
    check_in_latitude: latitude,
    check_in_longitude: longitude
  })
}
```

---

## í”„ë¡ íŠ¸ì—”ë“œ UI

### 1. ê´€ë¦¬ì - ì§€ì  ê´€ë¦¬ í˜ì´ì§€

**ê²½ë¡œ:** `/admin/branches`

**ê¸°ëŠ¥:**
- ì§€ì  ëª©ë¡ ì¡°íšŒ (ì¹´ë“œ í˜•ì‹)
- ì§€ì  ì¶”ê°€ (ëª¨ë‹¬)
- ì§€ì  ìˆ˜ì • (ëª¨ë‹¬)
- ì§€ì  ì‚­ì œ (í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸)
- ì§€ì  í™œì„±í™”/ë¹„í™œì„±í™” (í† ê¸€)
- ì§€ë„ì—ì„œ ìœ„ì¹˜ ì„ íƒ (Google Maps API)

**UI ë ˆì´ì•„ì›ƒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì§€ì  ê´€ë¦¬                   [+ ì¶”ê°€] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“ ë³¸ì                   âœ…   â”‚   â”‚
â”‚ â”‚ ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123    â”‚   â”‚
â”‚ â”‚ ì¶œê·¼ ë°˜ê²½: 100m              â”‚   â”‚
â”‚ â”‚ ì§ì›: 5ëª…                    â”‚   â”‚
â”‚ â”‚ [ìˆ˜ì •] [ë¹„í™œì„±í™”]             â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“ ê°•ë‚¨ì                 âœ…   â”‚   â”‚
â”‚ â”‚ ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë¡œ 456      â”‚   â”‚
â”‚ â”‚ ì¶œê·¼ ë°˜ê²½: 100m              â”‚   â”‚
â”‚ â”‚ ì§ì›: 3ëª…                    â”‚   â”‚
â”‚ â”‚ [ìˆ˜ì •] [ë¹„í™œì„±í™”]             â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ê´€ë¦¬ì - QR ì½”ë“œ ìƒì„±

**ê²½ë¡œ:** `/admin/attendance/qr-code`

**ê¸°ëŠ¥:**
- ì§€ì  ì„ íƒ ë“œë¡­ë‹¤ìš´
- ì§€ì ë³„ QR ì½”ë“œ ìƒì„±
- ëª¨ë“  ì§€ì  QR í•œ ë²ˆì— í‘œì‹œ (ì¸ì‡„ìš©)

**UI ë ˆì´ì•„ì›ƒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì¶œê·¼ QR ì½”ë“œ ìƒì„±                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì§€ì  ì„ íƒ: [ì „ì²´ ì§€ì  â–¼]            â”‚
â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ ë³¸ì  QR  â”‚  â”‚ ê°•ë‚¨ì  QR â”‚         â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚         â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                      â”‚
â”‚ [ì „ì²´ ì¸ì‡„] [ê°œë³„ ë‹¤ìš´ë¡œë“œ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ê´€ë¦¬ì - ì¶œê·¼ í˜„í™© ëŒ€ì‹œë³´ë“œ

**ê²½ë¡œ:** `/admin/attendance/dashboard`

**ê¸°ëŠ¥:**
- ì§€ì ë³„ í•„í„°
- ì „ì²´/ì§€ì ë³„ ì¶œê·¼ í˜„í™©
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

**UI ë ˆì´ì•„ì›ƒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì¶œê·¼ í˜„í™© (2025-11-05)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì „ì²´ â–¼] [ë³¸ì ] [ê°•ë‚¨ì ]            â”‚
â”‚                                      â”‚
â”‚ ì „ì²´: ì¶œê·¼ 8/10ëª… (80%)              â”‚
â”‚ â”œ ë³¸ì : 5/6ëª… (83%)                 â”‚
â”‚ â”” ê°•ë‚¨ì : 3/4ëª… (75%)               â”‚
â”‚                                      â”‚
â”‚ ì§€ê°: 2ëª…                            â”‚
â”‚ â”œ ë³¸ì : í™ê¸¸ë™ (09:05)              â”‚
â”‚ â”” ê°•ë‚¨ì : ê¹€ì² ìˆ˜ (09:10)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ì§ì› - ì¶œê·¼ ì²´í¬

**ê²½ë¡œ:** `/employee/attendance/check-in`

**ê¸°ëŠ¥:**
- QR ìŠ¤ìº”
- ì§€ì  ìë™ ê°ì§€
- ìœ„ì¹˜ ê²€ì¦

**UI ë ˆì´ì•„ì›ƒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì¶œê·¼ ì²´í¬                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     [QR ìŠ¤ìº” ì˜ì—­]                   â”‚
â”‚                                      â”‚
â”‚ ğŸ“ ê°ì§€ëœ ì§€ì : ê°•ë‚¨ì                â”‚
â”‚ ğŸ“ ì£¼ì†Œ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë¡œ 456    â”‚
â”‚                                      â”‚
â”‚ âœ… ìœ„ì¹˜ í™•ì¸ ì™„ë£Œ (ê±°ë¦¬: 45m)        â”‚
â”‚                                      â”‚
â”‚ [ê°•ë‚¨ì ì— ì¶œê·¼í•˜ê¸°]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. ì§ì› - ì¶œê·¼ ê¸°ë¡ ì¡°íšŒ

**ê²½ë¡œ:** `/employee/attendance/records`

**ê¸°ëŠ¥:**
- ì›”ë³„ ìº˜ë¦°ë”
- ì§€ì  ì •ë³´ í‘œì‹œ

**UI ë ˆì´ì•„ì›ƒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë‚´ ì¶œê·¼ ê¸°ë¡ (2025ë…„ 11ì›”)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 11ì›” 5ì¼ (í™”) ğŸ“ ê°•ë‚¨ì               â”‚
â”‚ â”” ì¶œê·¼: 09:05  í‡´ê·¼: 18:30           â”‚
â”‚                                      â”‚
â”‚ 11ì›” 4ì¼ (ì›”) ğŸ“ ë³¸ì                 â”‚
â”‚ â”” ì¶œê·¼: 09:00  í‡´ê·¼: 18:00           â”‚
â”‚                                      â”‚
â”‚ 11ì›” 3ì¼ (ì¼) íœ´ë¬´                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## êµ¬í˜„ ë¡œë“œë§µ

### âœ… Phase 1: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (ì™„ë£Œ)
- [x] clinic_branches í…Œì´ë¸” SQL ìŠ¤í¬ë¦½íŠ¸
- [x] ê¸°ì¡´ í…Œì´ë¸”ì— branch_id ì»¬ëŸ¼ ì¶”ê°€
- [x] RLS ì •ì±… ì„¤ì •
- [x] ì¸ë±ìŠ¤ ìƒì„±
- [x] ê¸°ë³¸ ì§€ì ('ë³¸ì ') ë§ˆì´ê·¸ë ˆì´ì…˜

**ì»¤ë°‹:** `6f9f721` (2025-01-05)

### âœ… Phase 2: ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ê¸°ë³¸ (ì™„ë£Œ)
- [x] src/types/branch.ts íƒ€ì… ì •ì˜
- [x] src/lib/branchService.ts CRUD êµ¬í˜„
- [x] src/types/attendance.ts ì—…ë°ì´íŠ¸

**ì»¤ë°‹:** `6f9f721` (2025-01-05)

### ğŸ”„ Phase 3: Attendance Service í†µí•© (ì§„í–‰ì¤‘)
- [ ] generateDailyQRCode() ìˆ˜ì • (branch_id ì§€ì›)
- [ ] validateQRCode() ìˆ˜ì • (ì§€ì  ìœ„ì¹˜ ê²€ì¦)
- [ ] checkIn() ìˆ˜ì • (branch_id ì €ì¥)
- [ ] checkOut() ìˆ˜ì •
- [ ] getAttendanceRecords() ìˆ˜ì • (ì§€ì  í•„í„°)

**ì˜ˆìƒ ì™„ë£Œ:** 2025-01-06

### ğŸ“… Phase 4: ë°ì´í„°ë² ì´ìŠ¤ ì‹¤í–‰ (ì˜ˆì •)
- [ ] Supabaseì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
- [ ] ìŠ¤í‚¤ë§ˆ ê²€ì¦
- [ ] RLS ì •ì±… í…ŒìŠ¤íŠ¸
- [ ] ê¸°ë³¸ ë°ì´í„° ìƒì„± í™•ì¸

**ì˜ˆìƒ ì™„ë£Œ:** 2025-01-07

### ğŸ“… Phase 5: ê´€ë¦¬ì UI (ì˜ˆì •)
- [ ] ì§€ì  ê´€ë¦¬ í˜ì´ì§€ (`/admin/branches`)
- [ ] ì§€ì  ìƒì„±/ìˆ˜ì • ëª¨ë‹¬
- [ ] ì§€ì ë³„ QR ì½”ë“œ ìƒì„± í˜ì´ì§€ ìˆ˜ì •
- [ ] ì¶œê·¼ í˜„í™© ëŒ€ì‹œë³´ë“œ (ì§€ì  í•„í„° ì¶”ê°€)
- [ ] ê·¼íƒœ í†µê³„ ë¦¬í¬íŠ¸ (ì§€ì ë³„ ë¹„êµ)

**ì˜ˆìƒ ì™„ë£Œ:** 2025-01-14

### ğŸ“… Phase 6: ì§ì› UI (ì˜ˆì •)
- [ ] ì¶œê·¼ ì²´í¬ í™”ë©´ (ì§€ì  ì •ë³´ í‘œì‹œ)
- [ ] ì¶œê·¼ ê¸°ë¡ ì¡°íšŒ (ì§€ì  í‘œì‹œ)
- [ ] í”„ë¡œí•„ ì„¤ì • (ì£¼ ê·¼ë¬´ ì§€ì )

**ì˜ˆìƒ ì™„ë£Œ:** 2025-01-18

### ğŸ“… Phase 7: í…ŒìŠ¤íŠ¸ ë° ë°°í¬ (ì˜ˆì •)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- [ ] í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ (UAT)
- [ ] í”„ë¡œë•ì…˜ ë°°í¬

**ì˜ˆìƒ ì™„ë£Œ:** 2025-01-21

---

## í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. ë°ì´í„°ë² ì´ìŠ¤ í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ 1-1: ì§€ì  ìƒì„±
```sql
-- ê°•ë‚¨ì  ìƒì„±
INSERT INTO clinic_branches (clinic_id, branch_name, address, latitude, longitude)
VALUES (
  '{clinic_id}',
  'ê°•ë‚¨ì ',
  'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë¡œ 456',
  37.4979,
  127.0276
);

-- í™•ì¸
SELECT * FROM clinic_branches WHERE branch_name = 'ê°•ë‚¨ì ';
```

#### í…ŒìŠ¤íŠ¸ 1-2: RLS ì •ì±… ê²€ì¦
```sql
-- owner ê³„ì •ìœ¼ë¡œ ì ‘ì†
SELECT * FROM clinic_branches;  -- ìì‹ ì˜ ë³‘ì› ì§€ì ë§Œ ë³´ì„

-- ì§ì› ê³„ì •ìœ¼ë¡œ ì ‘ì†
SELECT * FROM clinic_branches;  -- ì½ê¸°ë§Œ ê°€ëŠ¥

-- ë‹¤ë¥¸ ë³‘ì› ê³„ì •ìœ¼ë¡œ ì ‘ì†
SELECT * FROM clinic_branches;  -- ì•„ë¬´ê²ƒë„ ì•ˆ ë³´ì„
```

### 2. ë°±ì—”ë“œ API í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ 2-1: ì§€ì  CRUD
```javascript
// ì§€ì  ìƒì„±
const result = await branchService.createBranch({
  clinic_id: 'xxx',
  branch_name: 'ê°•ë‚¨ì ',
  address: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë¡œ 456',
  latitude: 37.4979,
  longitude: 127.0276,
  attendance_radius_meters: 100
}, currentUserId)

// ì§€ì  ëª©ë¡ ì¡°íšŒ
const branches = await branchService.getBranches({
  clinic_id: 'xxx',
  is_active: true
})

// ì§€ì  ìˆ˜ì •
const updated = await branchService.updateBranch(branchId, {
  branch_name: 'ê°•ë‚¨ì  (ë³¸ê´€)',
  attendance_radius_meters: 150
})

// ì§€ì  ì‚­ì œ
await branchService.deleteBranch(branchId)
```

#### í…ŒìŠ¤íŠ¸ 2-2: QR ì½”ë“œ ìƒì„± (ì§€ì ë³„)
```javascript
// ê°•ë‚¨ì  QR ìƒì„±
const qrCode = await generateDailyQRCode({
  clinic_id: 'xxx',
  branch_id: 'branch-gangnam-id'
})

// QR ì½”ë“œì— ì§€ì  ì •ë³´ í¬í•¨ í™•ì¸
console.log(qrCode.branch_id)  // 'branch-gangnam-id'
console.log(qrCode.latitude)   // 37.4979
console.log(qrCode.longitude)  // 127.0276
```

#### í…ŒìŠ¤íŠ¸ 2-3: ì¶œê·¼ ì²´í¬ (ì§€ì ë³„)
```javascript
// ê°•ë‚¨ì  QRë¡œ ì¶œê·¼
const result = await checkIn({
  user_id: 'xxx',
  qr_code: 'ATTENDANCE_xxx_branch-gangnam_2025-11-05_uuid',
  work_date: '2025-11-05',
  latitude: 37.4979,
  longitude: 127.0276
})

// ì¶œê·¼ ê¸°ë¡ì— ì§€ì  ì •ë³´ í™•ì¸
const { data } = await supabase
  .from('attendance_records')
  .select('*, clinic_branches(*)')
  .eq('user_id', 'xxx')
  .eq('work_date', '2025-11-05')
  .single()

console.log(data.branch_id)  // 'branch-gangnam-id'
console.log(data.clinic_branches.branch_name)  // 'ê°•ë‚¨ì '
```

### 3. ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

#### ì‹œë‚˜ë¦¬ì˜¤ 3-1: ë‹¨ì¼ ì§€ì  ë³‘ì› (í•˜ìœ„ í˜¸í™˜ì„±)
```
1. ê¸°ì¡´ ë³‘ì›ì— "ë³¸ì " ìë™ ìƒì„± í™•ì¸
2. ê¸°ì¡´ QR ì½”ë“œë¡œ ì¶œê·¼ (branch_id = NULL)
3. ì¶œê·¼ ê¸°ë¡ ì •ìƒ í™•ì¸
4. í†µê³„ ì¡°íšŒ ì •ìƒ í™•ì¸
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3-2: ë‹¤ì§€ì  ë³‘ì›
```
1. ë³¸ì , ê°•ë‚¨ì , ì„œì´ˆì  ìƒì„±
2. ê° ì§€ì ë³„ QR ì½”ë“œ ìƒì„±
3. ì§ì› A: ë³¸ì  ì¶œê·¼
4. ì§ì› B: ê°•ë‚¨ì  ì¶œê·¼
5. ì§ì› C: ì„œì´ˆì  ì¶œê·¼
6. ì¶œê·¼ í˜„í™© í™•ì¸ (ì§€ì ë³„ í•„í„°)
7. í†µê³„ ë¦¬í¬íŠ¸ í™•ì¸ (ì§€ì ë³„ ë¹„êµ)
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3-3: ì˜ëª»ëœ ì§€ì  ì¶œê·¼ ì‹œë„
```
1. ì§ì› AëŠ” ë³¸ì  ì†Œì† (primary_branch_id = ë³¸ì )
2. ê°•ë‚¨ì  QR ìŠ¤ìº”
3. ê²½ê³  ë©”ì‹œì§€: "ê°•ë‚¨ì  QRì…ë‹ˆë‹¤. ë³¸ì ì—ì„œ ê·¼ë¬´ ì˜ˆì •ì´ì‹ ê°€ìš”?"
4. ì„ íƒ:
   - "ì•„ë‹ˆì˜¤" â†’ ë³¸ì  QR ìŠ¤ìº” ì•ˆë‚´
   - "ì˜ˆ" â†’ ì¶œê·¼ í—ˆìš© (ê´€ë¦¬ìì—ê²Œ ì•Œë¦¼)
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3-4: ì§€ì  íì‡„
```
1. ê°•ë‚¨ì  ë¹„í™œì„±í™” (is_active = false)
2. ê°•ë‚¨ì  QR ì½”ë“œ ìë™ ë¹„í™œì„±í™”
3. ê°•ë‚¨ì  QR ìŠ¤ìº” ì‹œ ì—ëŸ¬ ë©”ì‹œì§€
4. ì†Œì† ì§ì›ë“¤ì—ê²Œ ì•Œë¦¼
```

### 4. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ 4-1: ë™ì‹œ ì¶œê·¼ ì²˜ë¦¬
```
ì‹œë‚˜ë¦¬ì˜¤: 100ê°œ ì§€ì , 1000ëª… ì§ì› ë™ì‹œ ì¶œê·¼
ëª©í‘œ: ì‘ë‹µ ì‹œê°„ < 2ì´ˆ
ë°©ë²•: Apache JMeter ë˜ëŠ” k6
```

#### í…ŒìŠ¤íŠ¸ 4-2: ì¿¼ë¦¬ ì„±ëŠ¥
```sql
-- ì§€ì ë³„ ì¶œê·¼ í†µê³„ (ì¸ë±ìŠ¤ í™œìš© í™•ì¸)
EXPLAIN ANALYZE
SELECT
  cb.branch_name,
  COUNT(ar.id) as checked_in
FROM clinic_branches cb
LEFT JOIN attendance_records ar
  ON cb.id = ar.branch_id
  AND ar.work_date = '2025-11-05'
WHERE cb.clinic_id = 'xxx'
GROUP BY cb.id, cb.branch_name;
```

---

## ì—£ì§€ ì¼€ì´ìŠ¤ ì²˜ë¦¬

### 1. ì˜ëª»ëœ ì§€ì  ì¶œê·¼
- **í˜„ìƒ:** ê°•ë‚¨ì  ì§ì›ì´ ì„œì´ˆì  QR ìŠ¤ìº”
- **ì²˜ë¦¬:**
  1. ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ
  2. ì„ íƒ ì˜µì…˜ ì œê³µ (ì§„í–‰/ì·¨ì†Œ)
  3. ì§„í–‰ ì‹œ ê´€ë¦¬ìì—ê²Œ ì•Œë¦¼

### 2. ì§€ì  ê°„ ê±°ë¦¬ê°€ ê°€ê¹Œìš´ ê²½ìš°
- **í˜„ìƒ:** ê°•ë‚¨ì ê³¼ ì„œì´ˆì ì´ 100m ê±°ë¦¬
- **ì²˜ë¦¬:**
  1. QR ì½”ë“œ ìš°ì„  (ìœ„ì¹˜ë³´ë‹¤ ì •í™•)
  2. ê° ì§€ì ì˜ ë°˜ê²½ì„ ì‘ê²Œ ì„¤ì • (50m)
  3. GPS ì˜¤ì°¨ í—ˆìš© ë²”ìœ„ ê³ ë ¤

### 3. ì§€ì  íì‡„
- **ì²˜ë¦¬:**
  1. is_active = false ì„¤ì •
  2. QR ì½”ë“œ ìë™ ë¹„í™œì„±í™”
  3. ì†Œì† ì§ì›ì—ê²Œ ì•Œë¦¼
  4. ë‹¤ë¥¸ ì§€ì  ì¬ë°°ì •

### 4. ë³¸ì  ì‚­ì œ ì‹œë„
- **ì²˜ë¦¬:** ë³¸ì ì€ ì‚­ì œ ë¶ˆê°€ (ì—ëŸ¬ ë©”ì‹œì§€)

### 5. ì†Œì† ì§ì› ìˆëŠ” ì§€ì  ì‚­ì œ
- **ì²˜ë¦¬:** ì—ëŸ¬ ë©”ì‹œì§€ (ì§ì› ìˆ˜ í‘œì‹œ)

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. QR ì½”ë“œ ë³´ì•ˆ
- ì¼ì¼ QR ì½”ë“œ (ë§¤ì¼ ë§Œë£Œ)
- QR ì½”ë“œì— branch_id í¬í•¨ (ìœ„ì¡° ë°©ì§€)
- ì„œë²„ ì‚¬ì´ë“œ ê²€ì¦ í•„ìˆ˜

### 2. ìœ„ì¹˜ ìŠ¤í‘¸í•‘ ë°©ì§€
- GPS ì •í™•ë„ ì²´í¬ (< 50m)
- QR + ìœ„ì¹˜ ì´ì¤‘ ê²€ì¦
- ë¹„ì •ìƒ ì´ë™ ê°ì§€

### 3. ë°ì´í„° ì ‘ê·¼ ì œì–´
- RLS ì •ì±…ìœ¼ë¡œ ì§€ì ë³„ ë°ì´í„° ê²©ë¦¬
- owner/managerë§Œ ì§€ì  ê´€ë¦¬
- ì§ì›ì€ ë³¸ì¸ ê¸°ë¡ë§Œ ì¡°íšŒ

### 4. ê°ì‚¬ ë¡œê·¸
- ì§€ì  ìƒì„±/ìˆ˜ì •/ì‚­ì œ ë¡œê·¸
- ë¹„ì •ìƒ ì¶œê·¼ íŒ¨í„´ ê°ì§€
- ê´€ë¦¬ì í–‰ë™ ì¶”ì 

---

## ì°¸ê³  ìë£Œ

### íŒŒì¼ ìœ„ì¹˜
- **ë§ˆì´ê·¸ë ˆì´ì…˜:** `scripts/migrations/001-create-clinic-branches.sql`
- **íƒ€ì… ì •ì˜:** `src/types/branch.ts`
- **ë°±ì—”ë“œ ì„œë¹„ìŠ¤:** `src/lib/branchService.ts`
- **Attendance íƒ€ì…:** `src/types/attendance.ts`

### ê´€ë ¨ ì´ìŠˆ
- GitHub Issue: (ì¶”ê°€ ì˜ˆì •)
- ê¸°íš ë¬¸ì„œ: `docs/features/branch-attendance-system.md` (ì´ íŒŒì¼)

### ê´€ë ¨ ì»¤ë°‹
- `6f9f721` - feat: ì§€ì  ê´€ë¦¬ ì‹œìŠ¤í…œ Phase 1-2 êµ¬í˜„ (2025-01-05)

---

## ë³€ê²½ ì´ë ¥

### 2025-01-05
- ğŸ“„ ë¬¸ì„œ ìµœì´ˆ ì‘ì„±
- âœ… Phase 1 ì™„ë£Œ (ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ)
- âœ… Phase 2 ì™„ë£Œ (ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ê¸°ë³¸)
- ğŸ”„ Phase 3 ì§„í–‰ì¤‘ (Attendance Service í†µí•©)

---

**ì‘ì„±ì:** Claude Code
**ìµœì¢… ìˆ˜ì •:** 2025-01-05
**ìƒíƒœ:** ì§„í–‰ì¤‘ (Phase 3)
